协程

- 轻量级线程
    - 非抢占式多任务处理，由协程主动交出控制权
        - 线程被操作系统控制切换，属于抢占式多任务处理
        - 协程什么时候交出控制权，由协程自己决定
    - 编译器／解释器／虚拟机层面上的多任务
        - 线程在操作系统层面上进行上下文切换，开销大
        - Go语言在语言层面上有一个调度器，协程在虚拟机层面上进行上下文切换和调度，开销小
    - 多个协程可以在同一个线程行执行
- 任何函数在前面加上go就能送给调度器运行
- 不需要在定义时区分是否是异步函数
- 调度器在合适的点进行切换，不是在程序中控制的,以下是*可能*的切换点
    - IO
        - fmt
    - select
    - channel
    - 等待锁
    - 函数调用（有时）
    - runtime.Gosched()
- 使用-race检测数据访问冲突